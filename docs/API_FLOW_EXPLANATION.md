# API ë™ì‘ íë¦„ ìƒì„¸ ì„¤ëª…

## ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤: ê²Œì‹œê¸€ ìƒì„¸ í˜ì´ì§€ ë³´ê¸°

ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì—ì„œ `/boards/123` í˜ì´ì§€ì— ì ‘ì†í–ˆì„ ë•Œ ì¼ì–´ë‚˜ëŠ” ì¼ë“¤ì„ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“ Step 0: í™˜ê²½ ì„¤ì • (ì•± ì‹œì‘ ì‹œ 1ë²ˆë§Œ)

### íŒŒì¼: `.env` (ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©)

```bash
VITE_API_BASE_URL=http://localhost:8080/api/v1
```

### íŒŒì¼: `src/api/client.ts`

```typescript
// â‘  í™˜ê²½ë³€ìˆ˜ì—ì„œ Base URL ì½ê¸°
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || "http://localhost:8080/api/v1";
//                   â†‘ .envì—ì„œ ì½ìŒ                    â†‘ ì—†ìœ¼ë©´ ì´ ê°’

// â‘¡ Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (ì•± ì‹œì‘ ì‹œ 1ë²ˆë§Œ)
const axiosInstance = axios.create({
  baseURL: API_BASE_URL,  // "http://localhost:8080/api/v1"
  timeout: 10000,
  headers: {
    "Content-Type": "application/json",
  },
});
```

**ê²°ê³¼:**
```
axiosInstance = {
  baseURL: "http://localhost:8080/api/v1",
  timeout: 10000,
  ...
}
```

---

## ğŸ“ Step 1: í˜ì´ì§€ ë Œë”ë§

### íŒŒì¼: `src/pages/BRD_05.tsx` (26-30ë²ˆì§¸ ì¤„)

```typescript
export default function PostShow() {
  // URLì—ì„œ postId ì¶”ì¶œ: /boards/123 â†’ postId = "123"
  const { postId } = useParams<{ postId: string }>();

  // â‘  usePost í›… í˜¸ì¶œ
  const { data: post, isLoading, error } = usePost(postId || "");
  //      â†‘ post ë°ì´í„°     â†‘ ë¡œë”© ì¤‘?  â†‘ ì—ëŸ¬?

  // ... ë‚˜ë¨¸ì§€ ì½”ë“œ
}
```

**ì§„í–‰ ìƒí™©:**
```
postId = "123"
â†“
usePost("123") í˜¸ì¶œ
```

---

## ğŸ“ Step 2: React Query í›…

### íŒŒì¼: `src/hooks/api/usePost.ts` (41-46ë²ˆì§¸ ì¤„)

```typescript
export function usePost(postId: string) {
  return useQuery<Post>({
    // â‘  ìºì‹œ í‚¤ ìƒì„±
    queryKey: POST_QUERY_KEYS.detail(postId),
    // â†’ ["posts", "detail", "123"]

    // â‘¡ ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
    queryFn: () => postService.getPost(postId),
    //              â†‘ ì´ í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨

    // â‘¢ ì˜µì…˜
    enabled: !!postId,  // postIdê°€ ìˆì„ ë•Œë§Œ ì‹¤í–‰
  });
}
```

**React Query ë‚´ë¶€ ë™ì‘:**

```typescript
// â‘  ìºì‹œ í™•ì¸
const cached = cache.get(["posts", "detail", "123"]);

if (cached && !isStale) {
  // ìºì‹œì— ìˆê³  ì‹ ì„ í•˜ë©´ â†’ ë°”ë¡œ ë°˜í™˜ (API í˜¸ì¶œ ì•ˆ í•¨)
  return cached;
}

// â‘¡ ìºì‹œê°€ ì—†ê±°ë‚˜ ì˜¤ë˜ë˜ë©´ â†’ queryFn ì‹¤í–‰
const data = await postService.getPost("123");
//                  â†‘ ì—¬ê¸°ì„œ ì‹¤ì œ API í˜¸ì¶œ

// â‘¢ ìºì‹œì— ì €ì¥
cache.set(["posts", "detail", "123"], data);

// â‘£ ë°˜í™˜
return data;
```

**ì§„í–‰ ìƒí™©:**
```
ìºì‹œ í™•ì¸ â†’ ì—†ìŒ
â†“
postService.getPost("123") í˜¸ì¶œ
```

---

## ğŸ“ Step 3: ì„œë¹„ìŠ¤ í•¨ìˆ˜

### íŒŒì¼: `src/services/postService.ts` (27-28ë²ˆì§¸ ì¤„)

```typescript
export async function getPost(postId: string): Promise<Post> {
  // â‘  ì—”ë“œí¬ì¸íŠ¸ ìƒì„±
  const endpoint = POST_ENDPOINTS.DETAIL(postId);
  // â†’ "/posts/123"

  // â‘¡ API í´ë¼ì´ì–¸íŠ¸ í˜¸ì¶œ
  return apiClient.get<Post>(endpoint);
  //                          â†‘ "/posts/123"
}
```

**ì§„í–‰ ìƒí™©:**
```
postId = "123"
â†“
POST_ENDPOINTS.DETAIL("123") = "/posts/123"
â†“
apiClient.get<Post>("/posts/123") í˜¸ì¶œ
```

---

## ğŸ“ Step 4: API í´ë¼ì´ì–¸íŠ¸

### íŒŒì¼: `src/api/client.ts` (124-130ë²ˆì§¸ ì¤„)

```typescript
export async function get<T>(
  url: string,  // "/posts/123"
  config?: AxiosRequestConfig
): Promise<T> {
  // â‘  Axios ì¸ìŠ¤í„´ìŠ¤ë¡œ GET ìš”ì²­
  const response = await axiosInstance.get<ApiResponse<T>>(url, config);
  //                     â†‘ ì—¬ê¸°ì„œ ì‹¤ì œ HTTP ìš”ì²­

  // â‘¡ response.data.data ì¶”ì¶œí•´ì„œ ë°˜í™˜
  return response.data.data;
}
```

**Axios ë‚´ë¶€ ë™ì‘:**

```typescript
// â‘  URL ì¡°í•©
const fullUrl = baseURL + url;
// = "http://localhost:8080/api/v1" + "/posts/123"
// = "http://localhost:8080/api/v1/posts/123"

// â‘¡ í—¤ë” ì¶”ê°€ (ì¸í„°ì…‰í„°ì—ì„œ)
const headers = {
  "Content-Type": "application/json",
  "Authorization": "Bearer eyJhbGc...",  // í† í° ìë™ ì¶”ê°€
};

// â‘¢ HTTP GET ìš”ì²­ ì „ì†¡
const response = await fetch(fullUrl, {
  method: "GET",
  headers: headers,
});
```

**ì§„í–‰ ìƒí™©:**
```
GET http://localhost:8080/api/v1/posts/123
Authorization: Bearer eyJhbGc...
```

---

## ğŸ“ Step 5: ë°±ì—”ë“œ ì„œë²„ ì²˜ë¦¬

ë°±ì—”ë“œ(Spring Boot, Express ë“±)ì—ì„œ ì²˜ë¦¬:

```java
// ë°±ì—”ë“œ ì½”ë“œ (Spring Boot ì˜ˆì‹œ)
@GetMapping("/posts/{postId}")
public ApiResponse<Post> getPost(@PathVariable String postId) {
    // â‘  DBì—ì„œ ê²Œì‹œê¸€ ì¡°íšŒ
    Post post = postRepository.findById(postId);

    // â‘¡ ì‘ë‹µ ìƒì„±
    return ApiResponse.success(post);
}
```

**ì‘ë‹µ JSON ìƒì„±:**

```json
{
  "success": true,
  "data": {
    "id": "123",
    "title": "ê²Œì‹œê¸€ ì œëª©",
    "content": "ê²Œì‹œê¸€ ë‚´ìš©...",
    "author": {
      "id": "user1",
      "nickname": "í™ê¸¸ë™"
    },
    "viewCount": 100,
    "likeCount": 25,
    "isLiked": true,
    "createdAt": "2024-11-04T10:30:00Z"
  },
  "message": "Success",
  "timestamp": "2024-11-04T10:35:00Z"
}
```

**ì§„í–‰ ìƒí™©:**
```
ë°±ì—”ë“œê°€ JSON ì‘ë‹µ ì „ì†¡
â†“
í”„ë¡ íŠ¸ì—”ë“œ Axiosê°€ ì‘ë‹µ ë°›ìŒ
```

---

## ğŸ“ Step 6: ì‘ë‹µ ì¸í„°ì…‰í„°

### íŒŒì¼: `src/api/client.ts` (43-47ë²ˆì§¸ ì¤„)

```typescript
axiosInstance.interceptors.response.use(
  (response: AxiosResponse<ApiResponse>) => {
    // â‘  ì„±ê³µ ì‘ë‹µì€ ê·¸ëŒ€ë¡œ ë°˜í™˜
    return response;
  },
  async (error) => {
    // â‘¡ ì—ëŸ¬ ì²˜ë¦¬ (401, 403, 500 ë“±)
    if (error.response?.status === 401) {
      // í† í° ê°±ì‹  ë¡œì§...
    }
    return Promise.reject(error);
  }
);
```

**ì‘ë‹µ ê°ì²´:**

```javascript
response = {
  status: 200,
  statusText: "OK",
  headers: { ... },
  config: { ... },
  data: {                    // â† response.data
    success: true,
    data: {                  // â† response.data.data
      id: "123",
      title: "ê²Œì‹œê¸€ ì œëª©",
      ...
    },
    message: "Success"
  }
}
```

**ì§„í–‰ ìƒí™©:**
```
ì¸í„°ì…‰í„° í†µê³¼
â†“
apiClient.getìœ¼ë¡œ ë°˜í™˜
```

---

## ğŸ“ Step 7: ë°ì´í„° ì¶”ì¶œ

### íŒŒì¼: `src/api/client.ts` (129ë²ˆì§¸ ì¤„)

```typescript
export async function get<T>(url: string): Promise<T> {
  const response = await axiosInstance.get<ApiResponse<T>>(url);

  // response.data.data ì¶”ì¶œ
  return response.data.data;
  //     â†‘        â†‘    â†‘
  //     â”‚        â”‚    â””â”€ ì‹¤ì œ ê²Œì‹œê¸€ ë°ì´í„°
  //     â”‚        â””â”€â”€â”€â”€â”€â”€ API ì‘ë‹µì˜ data í•„ë“œ
  //     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Axios response ê°ì²´
}
```

**ì¶”ì¶œ ê³¼ì •:**

```javascript
// â‘  ì „ì²´ ì‘ë‹µ
response = {
  status: 200,
  data: {
    success: true,
    data: { id: "123", title: "ê²Œì‹œê¸€ ì œëª©", ... },  // â† ì´ê²ƒë§Œ ì¶”ì¶œ!
    message: "Success"
  }
}

// â‘¡ response.data
response.data = {
  success: true,
  data: { id: "123", title: "ê²Œì‹œê¸€ ì œëª©", ... },  // â† ì´ê²ƒë§Œ ì¶”ì¶œ!
  message: "Success"
}

// â‘¢ response.data.data
response.data.data = {
  id: "123",
  title: "ê²Œì‹œê¸€ ì œëª©",
  content: "ê²Œì‹œê¸€ ë‚´ìš©...",
  author: { id: "user1", nickname: "í™ê¸¸ë™" },
  viewCount: 100,
  likeCount: 25,
  isLiked: true,
  createdAt: "2024-11-04T10:30:00Z"
}

// â‘£ ë°˜í™˜
return response.data.data;  // Post íƒ€ì… ê°ì²´
```

**ì§„í–‰ ìƒí™©:**
```
response.data.data ì¶”ì¶œ
â†“
Post ê°ì²´ ë°˜í™˜
```

---

## ğŸ“ Step 8: ì„œë¹„ìŠ¤ í•¨ìˆ˜ë¡œ ë°˜í™˜

### íŒŒì¼: `src/services/postService.ts` (27-28ë²ˆì§¸ ì¤„)

```typescript
export async function getPost(postId: string): Promise<Post> {
  return apiClient.get<Post>(POST_ENDPOINTS.DETAIL(postId));
  //     â†‘ ì—¬ê¸°ê¹Œì§€ ì™”ìŒ
}
```

**ë°˜í™˜ê°’:**

```typescript
Post = {
  id: "123",
  title: "ê²Œì‹œê¸€ ì œëª©",
  content: "ê²Œì‹œê¸€ ë‚´ìš©...",
  author: { id: "user1", nickname: "í™ê¸¸ë™" },
  viewCount: 100,
  likeCount: 25,
  isLiked: true,
  createdAt: "2024-11-04T10:30:00Z"
}
```

**ì§„í–‰ ìƒí™©:**
```
getPost("123") ì™„ë£Œ
â†“
Post ê°ì²´ë¥¼ useQueryë¡œ ë°˜í™˜
```

---

## ğŸ“ Step 9: React Query ìºì‹±

### íŒŒì¼: `src/hooks/api/usePost.ts` (41-46ë²ˆì§¸ ì¤„)

```typescript
export function usePost(postId: string) {
  return useQuery<Post>({
    queryKey: POST_QUERY_KEYS.detail(postId),
    queryFn: () => postService.getPost(postId),
    //              â†‘ ì—¬ê¸°ì„œ ë°›ì€ ë°ì´í„°
  });
}
```

**React Query ë‚´ë¶€:**

```typescript
// â‘  ë°ì´í„° ë°›ìŒ
const data = await postService.getPost("123");
// data = { id: "123", title: "ê²Œì‹œê¸€ ì œëª©", ... }

// â‘¡ ìºì‹œì— ì €ì¥
cache.set(["posts", "detail", "123"], data, {
  staleTime: 5 * 60 * 1000,  // 5ë¶„ê°„ fresh
  gcTime: 10 * 60 * 1000,    // 10ë¶„ê°„ ë³´ê´€
});

// â‘¢ ë°˜í™˜
return {
  data: data,           // Post ê°ì²´
  isLoading: false,     // ë¡œë”© ì™„ë£Œ
  error: null,          // ì—ëŸ¬ ì—†ìŒ
  isSuccess: true,      // ì„±ê³µ
};
```

**ì§„í–‰ ìƒí™©:**
```
ìºì‹œì— ì €ì¥ ì™„ë£Œ
â†“
í˜ì´ì§€ë¡œ ë°ì´í„° ë°˜í™˜
```

---

## ğŸ“ Step 10: í˜ì´ì§€ì— ë°ì´í„° í‘œì‹œ

### íŒŒì¼: `src/pages/BRD_05.tsx` (26-30, 135-136ë²ˆì§¸ ì¤„)

```typescript
export default function PostShow() {
  const { postId } = useParams<{ postId: string }>();

  // â‘  usePostì—ì„œ ë°ì´í„° ë°›ê¸°
  const { data: post, isLoading, error } = usePost(postId || "");
  //      â†‘ post = { id: "123", title: "ê²Œì‹œê¸€ ì œëª©", ... }

  // â‘¡ ë¡œë”© ì¤‘ì¼ ë•Œ
  if (isLoading) {
    return <div>ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>;
  }

  // â‘¢ ì—ëŸ¬ì¼ ë•Œ
  if (error || !post) {
    return <div>ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</div>;
  }

  // â‘£ ë°ì´í„° í‘œì‹œ
  return (
    <article>
      <h1>{post.title}</h1>
      {/*   â†‘ "ê²Œì‹œê¸€ ì œëª©" */}

      <div>{post.content}</div>
      {/*   â†‘ "ê²Œì‹œê¸€ ë‚´ìš©..." */}

      <span>{post.author.nickname}</span>
      {/*   â†‘ "í™ê¸¸ë™" */}

      <span>ì¡°íšŒ: {post.viewCount}</span>
      {/*         â†‘ "100" */}

      <button>â¤ï¸ {post.likeCount}</button>
      {/*           â†‘ "25" */}
    </article>
  );
}
```

**í™”ë©´ì— í‘œì‹œ:**

```html
<article>
  <h1>ê²Œì‹œê¸€ ì œëª©</h1>
  <div>ê²Œì‹œê¸€ ë‚´ìš©...</div>
  <span>í™ê¸¸ë™</span>
  <span>ì¡°íšŒ: 100</span>
  <button>â¤ï¸ 25</button>
</article>
```

---

## ì „ì²´ íë¦„ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ì‚¬ìš©ìê°€ /boards/123 í´ë¦­                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. PostShow í˜ì´ì§€ ë Œë”ë§                                     â”‚
â”‚    const { postId } = useParams()  // "123"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. usePost("123") í˜¸ì¶œ                                       â”‚
â”‚    React Query ìºì‹œ í™•ì¸ â†’ ì—†ìŒ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. postService.getPost("123") í˜¸ì¶œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. apiClient.get("/posts/123") í˜¸ì¶œ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Axiosê°€ HTTP ìš”ì²­ ì „ì†¡                                     â”‚
â”‚    GET http://localhost:8080/api/v1/posts/123               â”‚
â”‚    Authorization: Bearer ...                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. ë°±ì—”ë“œ ì„œë²„ ì²˜ë¦¬                                           â”‚
â”‚    DB ì¡°íšŒ â†’ JSON ì‘ë‹µ ìƒì„±                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. ë°±ì—”ë“œ ì‘ë‹µ                                                â”‚
â”‚    {                                                         â”‚
â”‚      "success": true,                                        â”‚
â”‚      "data": { "id": "123", "title": "ê²Œì‹œê¸€ ì œëª©", ... }    â”‚
â”‚    }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. Axiosê°€ ì‘ë‹µ ë°›ìŒ                                         â”‚
â”‚    ì¸í„°ì…‰í„° í†µê³¼ (í† í° ê°±ì‹  ë“±)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10. apiClient.getì´ response.data.data ì¶”ì¶œ                 â”‚
â”‚     return { id: "123", title: "ê²Œì‹œê¸€ ì œëª©", ... }         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 11. postService.getPostê°€ Post ë°˜í™˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 12. React Queryê°€ ìºì‹±                                       â”‚
â”‚     cache.set(["posts", "detail", "123"], post)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 13. usePostê°€ { data: post, isLoading: false } ë°˜í™˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 14. PostShow í˜ì´ì§€ì— í‘œì‹œ                                   â”‚
â”‚     <h1>{post.title}</h1>  // "ê²Œì‹œê¸€ ì œëª©"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë‹¤ì‹œ ê°™ì€ í˜ì´ì§€ ì ‘ì† ì‹œ (ìºì‹œ ì‚¬ìš©)

```
ì‚¬ìš©ìê°€ /boards/123 ë‹¤ì‹œ í´ë¦­ (5ë¶„ ì´ë‚´)
    â†“
usePost("123") í˜¸ì¶œ
    â†“
React Query ìºì‹œ í™•ì¸
    â†“
ìºì‹œì— ìˆìŒ! (fresh ìƒíƒœ)
    â†“
API í˜¸ì¶œ ì—†ì´ ë°”ë¡œ ìºì‹œ ë°ì´í„° ë°˜í™˜
    â†“
í™”ë©´ì— ì¦‰ì‹œ í‘œì‹œ
```

**ì„±ëŠ¥ í–¥ìƒ:**
- API í˜¸ì¶œ ì—†ìŒ â†’ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ì ˆì•½
- ì¦‰ì‹œ í‘œì‹œ â†’ ë¹ ë¥¸ ì‚¬ìš©ì ê²½í—˜

---

## í•µì‹¬ í¬ì¸íŠ¸

### 1. URL ì¡°í•©

```
Base URL (client.ts)
  +
Endpoint (endpoints.ts)
  =
ìµœì¢… URL
```

```
"http://localhost:8080/api/v1"
  +
"/posts/123"
  =
"http://localhost:8080/api/v1/posts/123"
```

### 2. ë°ì´í„° ì¶”ì¶œ

```
ë°±ì—”ë“œ ì‘ë‹µ
  { success: true, data: { ... } }
    â†“
response.data.data ì¶”ì¶œ
    â†“
Post ê°ì²´
```

### 3. ìºì‹±

```
ì²« ë²ˆì§¸ ìš”ì²­ â†’ API í˜¸ì¶œ â†’ ìºì‹œ ì €ì¥
ë‘ ë²ˆì§¸ ìš”ì²­ â†’ ìºì‹œ ì‚¬ìš© â†’ API í˜¸ì¶œ ì•ˆ í•¨ (ë¹ ë¦„!)
```

### 4. íƒ€ì… ì•ˆì „ì„±

```typescript
// TypeScriptê°€ ë³´ì¥
const post: Post = await getPost("123");

post.title      // âœ… OK (string)
post.viewCount  // âœ… OK (number)
post.xyz        // âŒ ì—ëŸ¬ (ì—†ëŠ” ì†ì„±)
```
